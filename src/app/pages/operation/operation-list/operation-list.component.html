<div class="container">
  <div class="table-responsive">
    <table class="table border table-dark table-hover table-striped table-fixed">
      <thead>
        <tr>
          <th [width]="50">Id</th> <!-- (click)="setOrder('id')"-->
          <th [width]="150">Name</th> <!-- (click)="setOrder('nombre')"-->
          <th [width]="150">Path</th> <!-- (click)="setOrder('nombre')"-->
          <th [width]="150">httpMethod</th> <!-- (click)="setOrder('nombre')"-->
          <th [width]="150">Permit All</th> <!-- (click)="setOrder('nombre')"-->
          <th [width]="150">module</th> <!-- (click)="setOrder('nombre')"-->
          <th [width]="350"><i class="fas fa-sort"></i></th> <!-- (click)="sort()"-->
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let operation of operations">
          <td>{{operation.id}}</td>
          <td>{{operation.name}}</td>
          <td>{{operation.path}}</td>
          <td>{{operation.httpMethod}}</td>
          <td>{{operation.permitAll}}</td>
          <td>{{operation.module.name}}</td>
          <td>
            @if (isOperation("READ_ALL_OPERATIONS_PAGE")) {
            <button class="btn btn-outline-primary" routerLink="/pages/operation/detail/{{operation.id}}"><i
                class="far fa-eye"></i> Ver</button>
            }
            @if (isOperation("CREATE_ONE_OPERATION")) {
            <button class="btn btn-outline-warning" [routerLink]="['/pages/operation/edit', operation.id]"><i
                class="far fa-edit"></i>
              Editar</button>
            <!-- <button class="btn btn-outline-danger" (click)="elimina(ingreso.iding)"><i class="far fa-trash-alt"></i>
                        Eliminar</button> -->
            }
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="d-flex flex-wrap align-items-center justify-content-between">
    <div class="mb-2">
      <button class="btn btn-outline-primary me-2" [disabled]="numberPage === 0" (click)="first()">Primero</button>

      <button class="btn btn-outline-primary me-2" [disabled]="numberPage === 0"
        (click)="changePage(numberPage - 1)">Anterior</button>

      <button class="btn btn-outline-primary me-2" [disabled]="numberPage === pages()"
        (click)="changePage(numberPage + 1)">Siguiente</button>

      <button class="btn btn-outline-primary" [disabled]="numberPage === pages()" (click)="last()">Último</button>
    </div>

    <!-- Ir a página -->
    <!-- <div class="input-group mb-2" style="width: 200px;">
          <input type="number" class="form-control" placeholder="Página"
                 [(ngModel)]="paginaIr"
                 [min]="1"
                 [max]="totalPaginas()"
                 (keyup.enter)="irAPagina()">
          <button class="btn btn-primary" (click)="irAPagina()">Ir</button>
        </div> -->
    <div class="input-group mb-2" style="width: 220px;">
      <input type="number" class="form-control" placeholder="Página" [(ngModel)]="_numberPage"
        (ngModelChange)="_validNumberPage()" [ngClass]="{
                'is-valid': _validPage && _numberPage !== null,
                'is-invalid': !_validPage && _numberPage !== null
              }" [min]="0" [max]="pages()" />
      <button class="btn btn-primary" (click)="changePage(_numberPage - 1)" [disabled]="!_validPage">
        Ir
      </button>
    </div>
  </div>
</div>